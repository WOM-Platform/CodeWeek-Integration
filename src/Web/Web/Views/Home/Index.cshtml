@using WomPlatform.Web.Api.ViewModel;
@model ConversionModelViewModel
@{
    Layout = "Main";
    ViewData["Title"] = "Certificate conversion";
}

<div class="row">
    <div class="twelve columns">
        <p>
            Many actions and activities done by individuals contribute to the common good and have an <i>intrinsic social value</i>, an effect known as <b>“positive externalities”</b> in economics. WOMs are digital vouchers designed to recognize the value of actions having such a positive effect and to reward them. <a href="https://wom.social">Check out the official Web site for more information</a>.
        </p>

        <p>
            <a href="https://digit.srl">DIGIT&nbsp;srl</a> recognizes the social and educational value of <i>computational thinking</i> and <i>coding</i> events: on the occasion of <b>Europe Code Week 2019</b>, all public events registered on the Code Week portal will be rewarded with 60&nbsp;WOM&nbsp;vouchers.
        </p>

        <p>
            If you have already registered and received the certificate of your Code Week event, use the form below to redeem your WOM&nbsp;vouchers.
        </p>
    </div>
</div>

<div class="row">
    <div class="twelve columns">
        <h3>Certificate conversion</h3>
    </div>
</div>
<form asp-action="Process" method="post">
    <div class="row">
        <div class="six columns">
            <label for="certificateUrlInput">Certificate URL:</label>
            <input class="u-full-width" name="certificateUrl" type="text" placeholder="https://codeweek-s3.s3.amazonaws.com/certificates/…" value="@Model.CertificateUrl" />

            @if (Model.Error == ConversionModelViewModel.ConversionError.CertificateUrlInvalid) {
                <p class="error">Certificate URL is not valid.</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.CertificateNotExisting) {
                <p class="error">Certificate does not exist.</p>
            }
        </div>
        <div class="six columns">
            <label for="eventPageUrl">Event page URL:</label>
            <input class="u-full-width" name="eventPageUrl" type="text" placeholder="https://codeweek.eu/view/…" value="@Model.EventPageUrl" />

            @if (Model.Error == ConversionModelViewModel.ConversionError.EventUrlInvalid) {
                <p class="error">Event page URL is not valid.</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.EventUrlFailedToCheck) {
                <p class="error">Event page does not exist or is invalid.</p>
            }
        </div>
    </div>
    <div class="row">
        <div class="twelve columns">
            <input class="button-primary" type="submit" value="Convert certificate" />

            @if (Model.Error == ConversionModelViewModel.ConversionError.CertificateNotExisting) {
                <p class="error">The certificate must exist: please check that the URL was input correctly. Please copy the direct link to the certificate PDF.</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.CertificateAlreadyConverted) {
                <p class="error">The event has <i>already</i> been converted into WOM&nbsp;Vouchers.</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.EventUrlFailedToCheck) {
                <p class="error">The event page appears not to exist or does not contain valid data. Please copy the direct link to your event on the Code&nbsp;Week portal.</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.InternalWomGenerationError) {
                <p class="error">Whoops! Failed to generate WOM&nbsp;Vouchers: we're looking into the error, sorry!</p>
            }
            @if (Model.Error == ConversionModelViewModel.ConversionError.EventCertificateIdDifform) {
                <p class="error">Event page and certificate refer to different events.</p>
            }

        </div>
    </div>
</form>

<div class="row">
    <div class="twelve columns">
        <h3>Mobile applications</h3>

        <p>
            In order to redeem WOM&nbsp;vouchers, you need the “WOM Pocket” mobile application.
            Please install the application before attempting to convert your Code Week certificate, to ensure that you are able to collect the generated vouchers.
        </p>
    </div>
</div>

<div class="row">
    <div class="six columns badge">
        <a href="https://play.google.com/store/apps/details?id=social.wom.pocket" title="Download WOM Pocket from Google Play">
            <img src="badge_google_play.png" alt="Google Play" />
        </a>
    </div>
    <div class="six columns badge">
        <a href="https://apps.apple.com/it/app/wom-pocket/id1466969163" title="Download WOM Pocket from App Store">
            <img src="badge_app_store.png" alt="Apple App Store" />
        </a>
    </div>
</div>
